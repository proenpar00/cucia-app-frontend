{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\cabel\\\\Desktop\\\\AppCucia_Extended\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport NavBar from './components/NavBar';\nimport ImageUploader from './components/ImageUploader';\nimport ImagePreview from './components/ImagePreview';\nimport ModelSelector from './components/ModelSelector';\nimport DiagnosisButton from './components/DiagnosisButton';\nimport DiagnosisResult from './components/DiagnosisResult';\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst App = () => {\n  _s();\n  const [selectedImage, setSelectedImage] = useState(null);\n  const [previewUrl, setPreviewUrl] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [modelLoaded, setModelLoaded] = useState(false);\n  const [imageId, setImageId] = useState(null);\n  const [result, setResult] = useState(null);\n  const [model, setModel] = useState(null);\n  const handleImageChange = event => {\n    const file = event.target.files[0];\n    if (file) {\n      const url = URL.createObjectURL(file);\n      console.log(\"URL de previsualización generada:\", url);\n      setSelectedImage(file);\n      setPreviewUrl(url);\n    }\n  };\n  const handleLoadModel = async () => {\n    if (!selectedImage) {\n      alert('Por favor, sube una imagen primero');\n      return;\n    }\n    setLoading(true);\n    const formData = new FormData();\n    formData.append('image', selectedImage);\n    formData.append('model', model);\n    try {\n      var _response$data;\n      const response = await axios.post(`${process.env.REACT_APP_API}/api/v1/image`, formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n      if ((_response$data = response.data) !== null && _response$data !== void 0 && _response$data.id) {\n        setImageId(response.data.id);\n        setModelLoaded(true);\n      }\n    } catch (error) {\n      alert('Error al cargar el modelo: ' + error.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleShowDiagnosis = async () => {\n    if (!imageId) {\n      alert('No hay diagnóstico disponible.');\n      return;\n    }\n    setLoading(true);\n    try {\n      const response = await axios.get(`${process.env.REACT_APP_API}/api/v1/image/${imageId}`);\n      setPreviewUrl(`data:image/jpeg;base64,${response.data.base64}`);\n      setResult(response.data);\n    } catch (error) {\n      alert('Error al obtener el diagnóstico: ' + error.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const renderInitialView = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"intro-container\",\n    children: [!previewUrl && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"title-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"main-title\",\n        children: \"CUCIA\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n        className: \"subtitle\",\n        children: \"Cervix Uteri Cancer IA\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this), previewUrl && /*#__PURE__*/_jsxDEV(ImagePreview, {\n      previewUrl: previewUrl\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 20\n    }, this), /*#__PURE__*/_jsxDEV(ImageUploader, {\n      onImageChange: handleImageChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(ModelSelector, {\n      onSelect: setModel\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(DiagnosisButton, {\n      modelLoaded: modelLoaded,\n      onClick: modelLoaded ? handleShowDiagnosis : handleLoadModel,\n      loading: loading\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 3\n  }, this);\n  const renderDiagnosisView = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"diagnosis-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"left-panel\",\n      children: [/*#__PURE__*/_jsxDEV(ImagePreview, {\n        previewUrl: previewUrl\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ImageUploader, {\n        onImageChange: handleImageChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DiagnosisButton, {\n        modelLoaded: modelLoaded,\n        onClick: modelLoaded ? handleShowDiagnosis : handleLoadModel,\n        loading: loading\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"right-panel\",\n      children: /*#__PURE__*/_jsxDEV(DiagnosisResult, {\n        detections: result\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 99,\n    columnNumber: 5\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app-container\",\n    children: [/*#__PURE__*/_jsxDEV(NavBar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 7\n    }, this), result ? renderDiagnosisView() : renderInitialView()]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 116,\n    columnNumber: 5\n  }, this);\n};\n_s(App, \"K0f3OiBoVv1bVVDadrkx6sElhlI=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","axios","NavBar","ImageUploader","ImagePreview","ModelSelector","DiagnosisButton","DiagnosisResult","jsxDEV","_jsxDEV","App","_s","selectedImage","setSelectedImage","previewUrl","setPreviewUrl","loading","setLoading","modelLoaded","setModelLoaded","imageId","setImageId","result","setResult","model","setModel","handleImageChange","event","file","target","files","url","URL","createObjectURL","console","log","handleLoadModel","alert","formData","FormData","append","_response$data","response","post","process","env","REACT_APP_API","headers","data","id","error","message","handleShowDiagnosis","get","base64","renderInitialView","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onImageChange","onSelect","onClick","renderDiagnosisView","detections","_c","$RefreshReg$"],"sources":["C:/Users/cabel/Desktop/AppCucia_Extended/frontend/src/App.js"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\nimport NavBar from './components/NavBar';\nimport ImageUploader from './components/ImageUploader';\nimport ImagePreview from './components/ImagePreview';\nimport ModelSelector from './components/ModelSelector';\nimport DiagnosisButton from './components/DiagnosisButton';\nimport DiagnosisResult from './components/DiagnosisResult';\nimport './App.css';\n\nconst App = () => {\n  const [selectedImage, setSelectedImage] = useState(null);\n  const [previewUrl, setPreviewUrl] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [modelLoaded, setModelLoaded] = useState(false);\n  const [imageId, setImageId] = useState(null);\n  const [result, setResult] = useState(null);\n  const [model, setModel] = useState(null);\n\n  const handleImageChange = (event) => {\n  const file = event.target.files[0];\n  if (file) {\n    const url = URL.createObjectURL(file);\n    console.log(\"URL de previsualización generada:\", url);\n    setSelectedImage(file);\n    setPreviewUrl(url);\n  }\n};\n\n  const handleLoadModel = async () => {\n    if (!selectedImage) {\n      alert('Por favor, sube una imagen primero');\n      return;\n    }\n\n    setLoading(true);\n    const formData = new FormData();\n    formData.append('image', selectedImage);\n    formData.append('model', model);\n\n    try {\n      const response = await axios.post(`${process.env.REACT_APP_API}/api/v1/image`, formData, {\n        headers: { 'Content-Type': 'multipart/form-data' },\n      });\n\n      if (response.data?.id) {\n        setImageId(response.data.id);\n        setModelLoaded(true);\n      }\n    } catch (error) {\n      alert('Error al cargar el modelo: ' + error.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleShowDiagnosis = async () => {\n    if (!imageId) {\n      alert('No hay diagnóstico disponible.');\n      return;\n    }\n\n    setLoading(true);\n    try {\n      const response = await axios.get(`${process.env.REACT_APP_API}/api/v1/image/${imageId}`);\n      setPreviewUrl(`data:image/jpeg;base64,${response.data.base64}`);\n      setResult(response.data);\n    } catch (error) {\n      alert('Error al obtener el diagnóstico: ' + error.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n const renderInitialView = () => (\n  <div className=\"intro-container\">\n    {!previewUrl && (\n      <div className=\"title-container\">\n        <h1 className=\"main-title\">CUCIA</h1>\n        <h4 className=\"subtitle\">Cervix Uteri Cancer IA</h4>\n      </div>\n    )}\n    {previewUrl && <ImagePreview previewUrl={previewUrl} />}\n\n    <ImageUploader onImageChange={handleImageChange} />\n    <ModelSelector onSelect={setModel} />\n    <DiagnosisButton\n      modelLoaded={modelLoaded}\n      onClick={modelLoaded ? handleShowDiagnosis : handleLoadModel}\n      loading={loading}\n    />\n  </div>\n);\n\n\n\n\n  const renderDiagnosisView = () => (\n    <div className=\"diagnosis-container\">\n      <div className=\"left-panel\">\n        <ImagePreview previewUrl={previewUrl} />\n        <ImageUploader onImageChange={handleImageChange} />\n        <DiagnosisButton \n          modelLoaded={modelLoaded} \n          onClick={modelLoaded ? handleShowDiagnosis : handleLoadModel} \n          loading={loading} \n        />\n      </div>\n      <div className=\"right-panel\">\n        <DiagnosisResult detections={result} />\n      </div>\n    </div>\n  );\n\n  return (\n    <div className=\"app-container\">\n      <NavBar />\n      {result ? renderDiagnosisView() : renderInitialView()}\n    </div>\n  );\n};\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}